doctype html
html
  head
    meta(charset='utf-8')
    meta(name='viewport', content='width=device-width, initial-scale=1, maximum-scale=1')
    title Frontend, Backend, Embedded

    link(rel='stylesheet', type='text/css', href='build/build.css')

  body

    #broker-stats

    article

      section
        h1 Doing FULL STACK development with Tessel, Javascript and MQTT.
        h2 by&nbsp;
          a(href="http://twitter.com/matteocollina") Matteo Collina

      section
        img(src="images/tessel.jpg" style="width: 100%")

      section(data-camera="fullscreen")
        h1 You should not see this!

      section
        h2 Isomorphic
        img(src="images/js.png" style="height: 50%")
        ul.bullet
          li use the same libraries in
           | browsers, servers, and devices
          li simple architecture, fewer components

      section
        img(src="images/MQTT.js.png" style="width: 100%")

      section
        h2 MQTT
        ul
          li publish/subscribe protocol
          li multiple quality of service level..
          li ..with at-least-once and exactly-once semantics
          li low overhead (2 bytes at minimum)
          li offline messaging
          li retained messages, like a key/value store
          li can run over WebSocket
          li MQTT.js just hit version 1.0.0 :)

      section
        h2 Displaying an alert
        pre
          code(data-bespoke-autorun).language-javascript.
            var client = mqtt.connect()

            client.subscribe("mybrowser")

            client.once("message", function(topic, payload) {
              alert(payload)
              client.end()
            })

      section
        h2 Displaying an alert
        pre
          code(data-bespoke-autorun).language-javascript.
            mqtt
              .connect()
              .publish("mybrowser", "hello JsDay 2015!")
              .end()

      section
        h2 Using MQTT in the browser
        pre
          code.language-javascript.
            &lt;script src='http://test.mosca.io/mqtt.js'&gt;&lt;/script&gt;
            &lt;script&gt;
              var client = mqtt.connect('ws://test.mosca.io')
              client.subscribe('mybrowser')
              client.on('message', function (topic, payload) {
                alert(topic + ' ' + payload)
              })
            &lt;/script&gt;

      section(data-camera="fullscreen")
        h1 You should not see this!

      section
        h2 Turning on a led
        pre
          code(data-bespoke-autorun).language-javascript.
            mqtt
              .connect()
              .publish("tessel/led", "on")
              .end()

      section(data-camera="fullscreen")
        h1 You should not see this!

      section
        h2 Turning off a led
        pre
          code(data-bespoke-autorun).language-javascript.
            mqtt
              .connect()
              .publish("tessel/led", "off")
              .end()

      section(data-camera="fullscreen")
        h1 You should not see this!

      section
        h2 Pressing a button
        pre
          code(data-bespoke-autorun).language-javascript.
            var client = mqtt.connect()

            client.subscribe("tessel/button")

            client.once("message", function(topic, payload) {
              alert(payload)
              client.end()
            })

      section
        img(src="images/nearform.svg" style="width: 100%")

      section
        img(src="images/me.png" style="width: 100%")

      section
        h1 Thanks!
        p If you need any help with node.js, MQTT.js or the IoT ping me
        br
        h3 <a href="mailto:hello@matteocollina.com">hello@matteocollina.com</a>
        h3 <a href="http://twitter.com/matteocollina">@matteocollina</a> on Twitter
        h3 <a href="http://www.matteocollina.com">www.matteocollina.com</a>

    script(src='build/build.js')
